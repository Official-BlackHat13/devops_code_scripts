{ 
   "agent":{ 
      "metrics_collection_interval":10,
      "logfile":"/opt/aws/amazon-cloudwatch-agent/logs/amazon-cloudwatch-agent.log"
   },
   "metrics":{ 
      "metrics_collected":{ 
         "cpu":{ 
            "resources":[ 
               "*"
            ],
            "measurement":[ 
               { 
                  "name":"cpu_usage_idle",
                  "rename":"CPU_USAGE_IDLE",
                  "unit":"Percent"
               },
               { 
                  "name":"cpu_usage_nice",
                  "unit":"Percent"
               },
				"cpu_usage_guest",
               "cpu_usage_active",
               "cpu_usage_system"
            ],
            "totalcpu":false,
            "metrics_collection_interval":10,
            "append_dimensions":{ 
               "customized_dimension_key_1":"customized_dimension_value_1",
               "customized_dimension_key_2":"customized_dimension_value_2"
            }
         },
         "disk":{ 
            "resources":[ 
               "/",
               "/tmp"
            ],
            "measurement":[ 
               { 
                  "name":"free",
                  "rename":"DISK_FREE",
                  "unit":"Gigabytes"
               },
               "total",
               "used"
            ],
            "ignore_file_system_types":[ 
               "sysfs",
               "devtmpfs"
            ],
            "metrics_collection_interval":60,
            "append_dimensions":{ 
               "customized_dimension_key_3":"customized_dimension_value_3",
               "customized_dimension_key_4":"customized_dimension_value_4"
            }
         },
         "diskio":{ 
            "resources":[ 
               "*"
            ],
            "measurement":[ 
               "reads",
               "writes",
               "io_time",
               "read_time",
               "write_time"
            ],
            "metrics_collection_interval":60
         },
         "swap":{ 
            "measurement":[ 
               "swap_used",
               "swap_free",
               "swap_used_percent"
            ]
         },
         "mem":{ 
            "measurement":[ 
               "mem_used",
               "mem_total",
               "mem_active",
               "mem_available",
               "mem_free",
               "mem_inactive"
            ],
            "metrics_collection_interval":1
         },
         "net":{ 
            "resources":[ 
               "eth0"
            ],
            "measurement":[ 
               "bytes_sent",
               "bytes_recv",
               "drop_in",
               "drop_out"
            ]
         },
         "netstat":{ 
            "measurement":[ 
               "tcp_established",
               "tcp_syn_sent",
               "tcp_close"
            ],
            "metrics_collection_interval":60
         },
         "processes":{ 
            "measurement":[ 
               "running",
               "sleeping",
               "stopped",
               "dead"
            ]
         }
      },
      "append_dimensions":{ 
         "ImageId":"${aws:ImageId}",
         "InstanceId":"${aws:InstanceId}",
         "InstanceType":"${aws:InstanceType}",
         "AutoScalingGroupName":"${aws:AutoScalingGroupName}"
      },
      "aggregation_dimensions":[ 
         [ 
            "ImageId"
         ],
         [ 
            "InstanceId",
            "InstanceType"
         ],
         [ 
            "d1"
         ],
         [ 

         ]
      ],
      "force_flush_interval":30
   },
   "logs":{ 
      "logs_collected":{ 
         "files":{ 
            "collect_list":[ 
               { 
                  "file_path":"/var/log/cron",
                  "log_group_name":"log_group_of_{instance_id}",
                  "log_stream_name":"cron",
                  "timezone":"UTC"
               },
               { 
                  "file_path":"/var/log/maillog",
                  "log_group_name":"log_group_of_{instance_id}",
                  "log_stream_name":"mail",
                  "timezone":"UTC"
               },
               { 
                  "file_path":"/var/log/messages",
                  "log_group_name":"log_group_of_{instance_id}",
                  "log_stream_name":"messages",
                  "timezone":"UTC"
               },
               { 
                  "file_path":"/var/log/secure",
                  "log_group_name":"log_group_of_{instance_id}",
                  "log_stream_name":"secure",
                  "timezone":"UTC"
               },
               { 
                  "file_path":"/var/log/httpd/error_log",
                  "log_group_name":"log_group_of_{instance_id}",
                  "log_stream_name":"httpd_error_log",
                  "timezone":"UTC"
               },
               { 
                  "file_path":"/var/log/httpd/access_log",
                  "log_group_name":"log_group_of_{instance_id}",
                  "log_stream_name":"httpd_access_log",
                  "timezone":"UTC"
               },
               { 
                  "file_path":"/var/log/httpd/ssl_error_log",
                  "log_group_name":"log_group_of_{instance_id}",
                  "log_stream_name":"httpd_ssl_error_log",
                  "timezone":"UTC"
               },
               { 
                  "file_path":"/var/log/httpd/ssl_error_log",
                  "log_group_name":"log_group_of_{instance_id}",
                  "log_stream_name":"httpd_ssl_error_log",
                  "timezone":"UTC"
               }
            ]
         }
      },
      "log_stream_name":"my_log_stream_name",
      "force_flush_interval":15
   }
}